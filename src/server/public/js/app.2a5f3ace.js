(function(e){function t(t){for(var n,s,c=t[0],i=t[1],u=t[2],p=0,d=[];p<c.length;p++)s=c[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var i=r[c];0!==a[i]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"10ca":function(e,t,r){e.exports=r.p+"img/completed.2e42fd7f.png"},"28b1":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[r("Home")],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root"},[n("h1",{staticClass:"title"},[e._v("Crewbot âš“")]),n("h2",{staticClass:"bot-title"},[e._v("Daily Raccoons")]),e._m(0),n("h2",{staticClass:"upload-title"},[e._v("Upload pictures of raccoon")]),n("vueDropzone",{ref:"dropzone",attrs:{id:"dropzone",options:e.dropzoneOptions,useCustomSlot:!0}},[n("div",{staticClass:"dropzone-content"},[n("h3",[e._v("ðŸ“¥")]),n("p",[e._v("Choose images or drag them here")])])]),e.uploading?n("img",{staticClass:"status-logo",attrs:{src:r("fa5e")}}):e._e(),e.completed?n("img",{staticClass:"status-logo",attrs:{src:r("10ca")}}):e._e(),e.error?n("p",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),n("button",{staticClass:"submit",on:{click:e.uploadImages}},[e._v("Upload")]),n("h2",{staticClass:"gallery-title"},[e._v("Waiting list")]),e.loaded?n("div",{staticClass:"gallery"},e._l(e.images,(function(e,t){return n("div",{key:t,staticClass:"image",attrs:{item:e,index:t}},[n("img",{attrs:{src:e}})])})),0):e._e()],1)},c=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"twitter"},[r("a",{staticClass:"twitter-timeline",attrs:{"data-height":"300","data-theme":"light",href:"https://twitter.com/DaiIyRaccoons?ref_src=twsrc%5Etfw"}},[e._v("Tweets by DaiIyRaccoons")])])}],i=(r("99af"),r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0"),r("96cf"),r("1da1")),u=r("668b"),l=r("92c3"),p=r.n(l),d=(r("1e3f"),r("bc3a")),f=r.n(d),m={name:"Home",components:{vueDropzone:p.a},data:function(){return{backend_url:"https://daily-raccoons.herokuapp.com/",images:[],loaded:!1,uploading:!1,completed:!1,error:"",dropzoneOptions:{url:"#",autoProcessQueue:!1,thumbnailWidth:150,uploadMultiple:!0,parallelUploads:1,addRemoveLinks:!0,thumbnailMethod:"contain",maxFilesize:5,acceptedFiles:".jpg, .png"}}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get(e.backend_url+"images");case 3:r=t.sent,e.images=r.data,e.loaded=!0,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},methods:{uploadImages:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,s,c,l,p,d,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.error="",e.completed=!1,r=e.$refs.dropzone.getAcceptedFiles(),0!==r.length){t.next=5;break}return t.abrupt("return",e.error="No files to upload");case 5:e.completed=!1,e.uploading=!0,n=[],a=[],o=!0,s=!1,t.prev=11,l=Object(u["a"])(r);case 13:return t.next=15,l.next();case 15:return p=t.sent,o=p.done,t.next=19,p.value;case 19:if(d=t.sent,o){t.next=32;break}return m=d,t.prev=22,t.delegateYield(regeneratorRuntime.mark((function t(){var r,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="".concat(e.backend_url,"sign-s3?file-name=").concat(m.name,"&file-type=").concat(m.type),t.next=3,f.a.get(r);case 3:o=t.sent,s={headers:{"Content-Type":m.type}},c=f.a.put(o.data.signedRequest,m,s).then((function(){return n.push(o.data.url)})).catch((function(e){return console.log(e.response)})),a.push(c);case 7:case"end":return t.stop()}}),t)}))(),"t0",24);case 24:t.next=29;break;case 26:t.prev=26,t.t1=t["catch"](22),console.log(t.t1.response);case 29:o=!0,t.next=13;break;case 32:t.next=38;break;case 34:t.prev=34,t.t2=t["catch"](11),s=!0,c=t.t2;case 38:if(t.prev=38,t.prev=39,o||null==l.return){t.next=43;break}return t.next=43,l.return();case 43:if(t.prev=43,!s){t.next=46;break}throw c;case 46:return t.finish(43);case 47:return t.finish(38);case 48:return t.next=50,Promise.all(a).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.a.post(e.backend_url+"upload",{images:n});case 2:r=t.sent,e.images=r.data,e.$refs.dropzone.removeAllFiles(),e.uploading=!1,e.completed=!0;case 7:case"end":return t.stop()}}),t)})))).catch((function(e){return console.log(e.response)}));case 50:case"end":return t.stop()}}),t,null,[[11,34,38,48],[22,26],[39,,43,47]])})))()}}},h=m,g=(r("9126"),r("2877")),v=Object(g["a"])(h,s,c,!1,null,"5dce2ee0",null),b=v.exports,_={name:"App",components:{Home:b}},x=_,w=(r("034f"),Object(g["a"])(x,a,o,!1,null,null,null)),y=w.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(y)}}).$mount("#app")},"85ec":function(e,t,r){},9126:function(e,t,r){"use strict";var n=r("28b1"),a=r.n(n);a.a},fa5e:function(e,t,r){e.exports=r.p+"img/loader.23f2f1ea.gif"}});
//# sourceMappingURL=app.2a5f3ace.js.map